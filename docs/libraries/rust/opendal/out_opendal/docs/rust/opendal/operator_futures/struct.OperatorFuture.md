# Struct OperatorFuture Copy item path

<a href="https://opendal.apache.org/docs/rust/src/opendal/types/operator/operator_futures.rs.html#39-48" class="src">Source</a>

``` rust
pub struct OperatorFuture<I, O, F: Future<Output = Result<O>>> { /* private fields */ }
```

Expand description

OperatorFuture is the future generated by [`Operator`](https://opendal.apache.org/docs/rust/opendal/struct.Operator.html "struct opendal::Operator").

The future will consume all the input to generate a future.

## <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#notes" class="doc-anchor">Â§</a>NOTES

This struct is by design to keep in crate. We donâ€™t want users to use this struct directly.

## Implementations<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#implementations" class="anchor">Â§</a>

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-OperatorFuture%3CStatOptions,+Metadata,+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/struct.Metadata.html" class="struct" title="struct opendal::Metadata">Metadata</a>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/options/struct.StatOptions.html" class="struct" title="struct opendal::options::StatOptions">StatOptions</a>, <a href="https://opendal.apache.org/docs/rust/opendal/struct.Metadata.html" class="struct" title="struct opendal::Metadata">Metadata</a>, F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_match" class="fn">if_match</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Set the If-Match for this operation.

Refer to [`options::StatOptions::if_match`](https://opendal.apache.org/docs/rust/opendal/options/struct.StatOptions.html#structfield.if_match "field opendal::options::StatOptions::if_match") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_none_match" class="fn">if_none_match</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Set the If-None-Match for this operation.

Refer to [`options::StatOptions::if_none_match`](https://opendal.apache.org/docs/rust/opendal/options/struct.StatOptions.html#structfield.if_none_match "field opendal::options::StatOptions::if_none_match") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_modified_since" class="fn">if_modified_since</a>(self, v: <a href="https://opendal.apache.org/docs/rust/opendal/raw/struct.Timestamp.html" class="struct" title="struct opendal::raw::Timestamp">Timestamp</a>) -\> Self

Set the If-Modified-Since for this operation.

Refer to [`options::StatOptions::if_modified_since`](https://opendal.apache.org/docs/rust/opendal/options/struct.StatOptions.html#structfield.if_modified_since "field opendal::options::StatOptions::if_modified_since") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_unmodified_since" class="fn">if_unmodified_since</a>(self, v: <a href="https://opendal.apache.org/docs/rust/opendal/raw/struct.Timestamp.html" class="struct" title="struct opendal::raw::Timestamp">Timestamp</a>) -\> Self

Set the If-Unmodified-Since for this operation.

Refer to [`options::StatOptions::if_unmodified_since`](https://opendal.apache.org/docs/rust/opendal/options/struct.StatOptions.html#structfield.if_unmodified_since "field opendal::options::StatOptions::if_unmodified_since") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.version" class="fn">version</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Set the version for this operation.

Refer to [`options::StatOptions::version`](https://opendal.apache.org/docs/rust/opendal/options/struct.StatOptions.html#structfield.version "field opendal::options::StatOptions::version") for more details.

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-OperatorFuture%3C(StatOptions,+Duration),+PresignedRequest,+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/raw/struct.PresignedRequest.html" class="struct" title="struct opendal::raw::PresignedRequest">PresignedRequest</a>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<(<a href="https://opendal.apache.org/docs/rust/opendal/options/struct.StatOptions.html" class="struct" title="struct opendal::options::StatOptions">StatOptions</a>, <a href="https://doc.rust-lang.org/nightly/core/time/struct.Duration.html" class="struct" title="struct core::time::Duration">Duration</a>), <a href="https://opendal.apache.org/docs/rust/opendal/raw/struct.PresignedRequest.html" class="struct" title="struct opendal::raw::PresignedRequest">PresignedRequest</a>, F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.override_content_disposition" class="fn">override_content_disposition</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::StatOptions::override_content_disposition`](https://opendal.apache.org/docs/rust/opendal/options/struct.StatOptions.html#structfield.override_content_disposition "field opendal::options::StatOptions::override_content_disposition") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.override_cache_control" class="fn">override_cache_control</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::StatOptions::override_cache_control`](https://opendal.apache.org/docs/rust/opendal/options/struct.StatOptions.html#structfield.override_cache_control "field opendal::options::StatOptions::override_cache_control") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.override_content_type" class="fn">override_content_type</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::StatOptions::override_content_type`](https://opendal.apache.org/docs/rust/opendal/options/struct.StatOptions.html#structfield.override_content_type "field opendal::options::StatOptions::override_content_type") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_match-1" class="fn">if_match</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::StatOptions::if_match`](https://opendal.apache.org/docs/rust/opendal/options/struct.StatOptions.html#structfield.if_match "field opendal::options::StatOptions::if_match") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_none_match-1" class="fn">if_none_match</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::StatOptions::if_none_match`](https://opendal.apache.org/docs/rust/opendal/options/struct.StatOptions.html#structfield.if_none_match "field opendal::options::StatOptions::if_none_match") for more details.

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-OperatorFuture%3C(ReadOptions,+Duration),+PresignedRequest,+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/raw/struct.PresignedRequest.html" class="struct" title="struct opendal::raw::PresignedRequest">PresignedRequest</a>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<(<a href="https://opendal.apache.org/docs/rust/opendal/options/struct.ReadOptions.html" class="struct" title="struct opendal::options::ReadOptions">ReadOptions</a>, <a href="https://doc.rust-lang.org/nightly/core/time/struct.Duration.html" class="struct" title="struct core::time::Duration">Duration</a>), <a href="https://opendal.apache.org/docs/rust/opendal/raw/struct.PresignedRequest.html" class="struct" title="struct opendal::raw::PresignedRequest">PresignedRequest</a>, F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.override_content_disposition-1" class="fn">override_content_disposition</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::ReadOptions::override_content_disposition`](https://opendal.apache.org/docs/rust/opendal/options/struct.ReadOptions.html#structfield.override_content_disposition "field opendal::options::ReadOptions::override_content_disposition") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.override_cache_control-1" class="fn">override_cache_control</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::ReadOptions::override_cache_control`](https://opendal.apache.org/docs/rust/opendal/options/struct.ReadOptions.html#structfield.override_cache_control "field opendal::options::ReadOptions::override_cache_control") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.override_content_type-1" class="fn">override_content_type</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::ReadOptions::override_content_type`](https://opendal.apache.org/docs/rust/opendal/options/struct.ReadOptions.html#structfield.override_content_type "field opendal::options::ReadOptions::override_content_type") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_match-2" class="fn">if_match</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::ReadOptions::if_match`](https://opendal.apache.org/docs/rust/opendal/options/struct.ReadOptions.html#structfield.if_match "field opendal::options::ReadOptions::if_match") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_none_match-2" class="fn">if_none_match</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::ReadOptions::if_none_match`](https://opendal.apache.org/docs/rust/opendal/options/struct.ReadOptions.html#structfield.if_none_match "field opendal::options::ReadOptions::if_none_match") for more details.

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-OperatorFuture%3C(WriteOptions,+Duration),+PresignedRequest,+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/raw/struct.PresignedRequest.html" class="struct" title="struct opendal::raw::PresignedRequest">PresignedRequest</a>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<(<a href="https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html" class="struct" title="struct opendal::options::WriteOptions">WriteOptions</a>, <a href="https://doc.rust-lang.org/nightly/core/time/struct.Duration.html" class="struct" title="struct core::time::Duration">Duration</a>), <a href="https://opendal.apache.org/docs/rust/opendal/raw/struct.PresignedRequest.html" class="struct" title="struct opendal::raw::PresignedRequest">PresignedRequest</a>, F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.content_type" class="fn">content_type</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::WriteOptions::content_type`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.content_type "field opendal::options::WriteOptions::content_type") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.content_disposition" class="fn">content_disposition</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::WriteOptions::content_disposition`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.content_disposition "field opendal::options::WriteOptions::content_disposition") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.content_encoding" class="fn">content_encoding</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::WriteOptions::content_encoding`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.content_encoding "field opendal::options::WriteOptions::content_encoding") for more details.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.cache_control" class="fn">cache_control</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Refer to [`options::WriteOptions::cache_control`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.cache_control "field opendal::options::WriteOptions::cache_control") for more details.

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-OperatorFuture%3CReadOptions,+Buffer,+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/struct.Buffer.html" class="struct" title="struct opendal::Buffer">Buffer</a>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/options/struct.ReadOptions.html" class="struct" title="struct opendal::options::ReadOptions">ReadOptions</a>, <a href="https://opendal.apache.org/docs/rust/opendal/struct.Buffer.html" class="struct" title="struct opendal::Buffer">Buffer</a>, F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.range" class="fn">range</a>(self, range: impl <a href="https://doc.rust-lang.org/nightly/core/ops/range/trait.RangeBounds.html" class="trait" title="trait core::ops::range::RangeBounds">RangeBounds</a>\<<a href="https://doc.rust-lang.org/nightly/std/primitive.u64.html" class="primitive">u64</a>\>) -\> Self

Set `range` for this `read` request.

If we have a file with size `n`.

- `..` means read bytes in range `[0, n)` of file.
- `0..1024` and `..1024` means read bytes in range `[0, 1024)` of file
- `1024..` means read bytes in range `[1024, n)` of file

``` rust
let bs = op.read_with("path/to/file").range(0..1024).await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.concurrent" class="fn">concurrent</a>(self, concurrent: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

Set `concurrent` for the reader.

OpenDAL by default to write file without concurrent. This is not efficient for cases when users read large chunks of data. By setting `concurrent`, opendal will read files concurrently on support storage services.

By setting `concurrent`, opendal will fetch chunks concurrently with the given chunk size.

``` rust
let r = op.read_with("path/to/file").concurrent(8).await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.chunk" class="fn">chunk</a>(self, chunk_size: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

OpenDAL will use servicesâ€™ preferred chunk size by default. Users can set chunk based on their own needs.

This following example will make opendal read data in 4MiB chunks:

``` rust
let r = op.read_with("path/to/file").chunk(4 * 1024 * 1024).await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.version-1" class="fn">version</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Set `version` for this `read` request.

This feature can be used to retrieve the data of a specified version of the given path.

If the version doesnâ€™t exist, an error with kind [`ErrorKind::NotFound`](https://opendal.apache.org/docs/rust/opendal/enum.ErrorKind.html#variant.NotFound "variant opendal::ErrorKind::NotFound") will be returned.

``` rust

let mut bs = op.read_with("path/to/file").version(version).await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_match-3" class="fn">if_match</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Set `if_match` for this `read` request.

This feature can be used to check if the fileâ€™s `ETag` matches the given `ETag`.

If file exists and itâ€™s etag doesnâ€™t match, an error with kind [`ErrorKind::ConditionNotMatch`](https://opendal.apache.org/docs/rust/opendal/enum.ErrorKind.html#variant.ConditionNotMatch "variant opendal::ErrorKind::ConditionNotMatch") will be returned.

``` rust
use opendal::Operator;
let mut metadata = op.read_with("path/to/file").if_match(etag).await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_none_match-3" class="fn">if_none_match</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Set `if_none_match` for this `read` request.

This feature can be used to check if the fileâ€™s `ETag` doesnâ€™t match the given `ETag`.

If file exists and itâ€™s etag match, an error with kind [`ErrorKind::ConditionNotMatch`](https://opendal.apache.org/docs/rust/opendal/enum.ErrorKind.html#variant.ConditionNotMatch "variant opendal::ErrorKind::ConditionNotMatch") will be returned.

``` rust
use opendal::Operator;
let mut metadata = op.read_with("path/to/file").if_none_match(etag).await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_modified_since-1" class="fn">if_modified_since</a>(self, v: impl <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" class="trait" title="trait core::convert::Into">Into</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/raw/struct.Timestamp.html" class="struct" title="struct opendal::raw::Timestamp">Timestamp</a>\>) -\> Self

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#if_modified_since" class="doc-anchor">Â§</a>`if_modified_since`

Set `if_modified_since` for this `read` request.

This feature can be used to check if the file has been modified since the given timestamp.

If file exists and it hasnâ€™t been modified since the specified time, an error with kind [`ErrorKind::ConditionNotMatch`](https://opendal.apache.org/docs/rust/opendal/enum.ErrorKind.html#variant.ConditionNotMatch "variant opendal::ErrorKind::ConditionNotMatch") will be returned.

``` rust
use jiff::Timestamp;
use opendal::Operator;
let mut metadata = op.read_with("path/to/file").if_modified_since(time).await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_unmodified_since-1" class="fn">if_unmodified_since</a>(self, v: impl <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" class="trait" title="trait core::convert::Into">Into</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/raw/struct.Timestamp.html" class="struct" title="struct opendal::raw::Timestamp">Timestamp</a>\>) -\> Self

Set `if_unmodified_since` for this `read` request.

This feature can be used to check if the file hasnâ€™t been modified since the given timestamp.

If file exists and it has been modified since the specified time, an error with kind [`ErrorKind::ConditionNotMatch`](https://opendal.apache.org/docs/rust/opendal/enum.ErrorKind.html#variant.ConditionNotMatch "variant opendal::ErrorKind::ConditionNotMatch") will be returned.

``` rust
use jiff::Timestamp;
use opendal::Operator;
let mut metadata = op
    .read_with("path/to/file")
    .if_unmodified_since(time)
    .await?;
```

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-OperatorFuture%3CReaderOptions,+Reader,+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/struct.Reader.html" class="struct" title="struct opendal::Reader">Reader</a>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/options/struct.ReaderOptions.html" class="struct" title="struct opendal::options::ReaderOptions">ReaderOptions</a>, <a href="https://opendal.apache.org/docs/rust/opendal/struct.Reader.html" class="struct" title="struct opendal::Reader">Reader</a>, F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.version-2" class="fn">version</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Set `version` for this `reader`.

This feature can be used to retrieve the data of a specified version of the given path.

If the version doesnâ€™t exist, an error with kind [`ErrorKind::NotFound`](https://opendal.apache.org/docs/rust/opendal/enum.ErrorKind.html#variant.NotFound "variant opendal::ErrorKind::NotFound") will be returned.

``` rust

let mut r = op.reader_with("path/to/file").version(version).await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.concurrent-1" class="fn">concurrent</a>(self, concurrent: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

Set `concurrent` for the reader.

OpenDAL by default to write file without concurrent. This is not efficient for cases when users read large chunks of data. By setting `concurrent`, opendal will reading files concurrently on support storage services.

By setting `concurrent`, opendal will fetch chunks concurrently with the give chunk size.

``` rust
let r = op.reader_with("path/to/file").concurrent(8).await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.chunk-1" class="fn">chunk</a>(self, chunk_size: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

OpenDAL will use servicesâ€™ preferred chunk size by default. Users can set chunk based on their own needs.

This following example will make opendal read data in 4MiB chunks:

``` rust
let r = op
    .reader_with("path/to/file")
    .chunk(4 * 1024 * 1024)
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.gap" class="fn">gap</a>(self, gap_size: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

Controls the optimization strategy for range reads in [`Reader::fetch`](https://opendal.apache.org/docs/rust/opendal/struct.Reader.html#method.fetch "method opendal::Reader::fetch").

When performing range reads, if the gap between two requested ranges is smaller than the configured `gap` size, OpenDAL will merge these ranges into a single read request and discard the unrequested data in between. This helps reduce the number of API calls to remote storage services.

This optimization is particularly useful when performing multiple small range reads that are close to each other, as it reduces the overhead of multiple network requests at the cost of transferring some additional data.

In this example, if two requested ranges are separated by less than 1MiB, they will be merged into a single read request:

``` rust
let r = op
    .reader_with("path/to/file")
    .chunk(4 * 1024 * 1024)
    .gap(1024 * 1024) // 1MiB gap
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_match-4" class="fn">if_match</a>(self, etag: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Set `if-match` for this `read` request.

This feature can be used to check if the fileâ€™s `ETag` matches the given `ETag`.

If file exists and itâ€™s etag doesnâ€™t match, an error with kind [`ErrorKind::ConditionNotMatch`](https://opendal.apache.org/docs/rust/opendal/enum.ErrorKind.html#variant.ConditionNotMatch "variant opendal::ErrorKind::ConditionNotMatch") will be returned.

``` rust
use opendal::Operator;
let mut r = op.reader_with("path/to/file").if_match(etag).await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_none_match-4" class="fn">if_none_match</a>(self, etag: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Set `if-none-match` for this `read` request.

This feature can be used to check if the fileâ€™s `ETag` doesnâ€™t match the given `ETag`.

If file exists and itâ€™s etag match, an error with kind [`ErrorKind::ConditionNotMatch`](https://opendal.apache.org/docs/rust/opendal/enum.ErrorKind.html#variant.ConditionNotMatch "variant opendal::ErrorKind::ConditionNotMatch") will be returned.

``` rust
use opendal::Operator;
let mut r = op.reader_with("path/to/file").if_none_match(etag).await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_modified_since-2" class="fn">if_modified_since</a>(self, v: impl <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" class="trait" title="trait core::convert::Into">Into</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/raw/struct.Timestamp.html" class="struct" title="struct opendal::raw::Timestamp">Timestamp</a>\>) -\> Self

Set `if-modified-since` for this `read` request.

This feature can be used to check if the file has been modified since the given timestamp.

If file exists and it hasnâ€™t been modified since the specified time, an error with kind [`ErrorKind::ConditionNotMatch`](https://opendal.apache.org/docs/rust/opendal/enum.ErrorKind.html#variant.ConditionNotMatch "variant opendal::ErrorKind::ConditionNotMatch") will be returned.

``` rust
use jiff::Timestamp;
use opendal::Operator;
let mut r = op
    .reader_with("path/to/file")
    .if_modified_since(time)
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_unmodified_since-2" class="fn">if_unmodified_since</a>(self, v: impl <a href="https://doc.rust-lang.org/nightly/core/convert/trait.Into.html" class="trait" title="trait core::convert::Into">Into</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/raw/struct.Timestamp.html" class="struct" title="struct opendal::raw::Timestamp">Timestamp</a>\>) -\> Self

Set `if-unmodified-since` for this `read` request.

This feature can be used to check if the file hasnâ€™t been modified since the given timestamp.

If file exists and it has been modified since the specified time, an error with kind [`ErrorKind::ConditionNotMatch`](https://opendal.apache.org/docs/rust/opendal/enum.ErrorKind.html#variant.ConditionNotMatch "variant opendal::ErrorKind::ConditionNotMatch") will be returned.

``` rust
use jiff::Timestamp;
use opendal::Operator;
let mut r = op
    .reader_with("path/to/file")
    .if_unmodified_since(time)
    .await?;
```

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-OperatorFuture%3C(WriteOptions,+Buffer),+Metadata,+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/struct.Metadata.html" class="struct" title="struct opendal::Metadata">Metadata</a>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<(<a href="https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html" class="struct" title="struct opendal::options::WriteOptions">WriteOptions</a>, <a href="https://opendal.apache.org/docs/rust/opendal/struct.Buffer.html" class="struct" title="struct opendal::Buffer">Buffer</a>), <a href="https://opendal.apache.org/docs/rust/opendal/struct.Metadata.html" class="struct" title="struct opendal::Metadata">Metadata</a>, F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.append" class="fn">append</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

Sets append mode for this write request.

Refer to [`options::WriteOptions::append`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.append "field opendal::options::WriteOptions::append") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let _ = op
    .write_with("path/to/file", vec![0; 4096])
    .append(true)
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.chunk-2" class="fn">chunk</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

Sets chunk size for buffered writes.

Refer to [`options::WriteOptions::chunk`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.chunk "field opendal::options::WriteOptions::chunk") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-1" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

// Set 8MiB chunk size - data will be sent in one API call at close
let _ = op
    .write_with("path/to/file", vec![0; 4096])
    .chunk(8 * 1024 * 1024)
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.concurrent-2" class="fn">concurrent</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

Sets concurrent write operations for this writer.

Refer to [`options::WriteOptions::concurrent`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.concurrent "field opendal::options::WriteOptions::concurrent") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-2" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

// Enable concurrent writes with 8 parallel operations at 128B chunk.
let _ = op
    .write_with("path/to/file", vec![0; 4096])
    .chunk(128)
    .concurrent(8)
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.cache_control-1" class="fn">cache_control</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets Cache-Control header for this write operation.

Refer to [`options::WriteOptions::cache_control`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.cache_control "field opendal::options::WriteOptions::cache_control") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-3" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

// Cache content for 7 days (604800 seconds)
let _ = op
    .write_with("path/to/file", vec![0; 4096])
    .cache_control("max-age=604800")
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.content_type-1" class="fn">content_type</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets `Content-Type` header for this write operation.

Refer to [`options::WriteOptions::content_type`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.content_type "field opendal::options::WriteOptions::content_type") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-4" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

// Set content type for plain text file
let _ = op
    .write_with("path/to/file", vec![0; 4096])
    .content_type("text/plain")
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.content_disposition-1" class="fn">content_disposition</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets Content-Disposition header for this write request.

Refer to [`options::WriteOptions::content_disposition`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.content_disposition "field opendal::options::WriteOptions::content_disposition") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-5" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let _ = op
    .write_with("path/to/file", vec![0; 4096])
    .content_disposition("attachment; filename=\"filename.jpg\"")
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.content_encoding-1" class="fn">content_encoding</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets Content-Encoding header for this write request.

Refer to [`options::WriteOptions::content_encoding`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.content_encoding "field opendal::options::WriteOptions::content_encoding") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-6" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let _ = op
    .write_with("path/to/file", vec![0; 4096])
    .content_encoding("gzip")
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_match-5" class="fn">if_match</a>(self, s: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets If-Match header for this write request.

Refer to [`options::WriteOptions::if_match`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.if_match "field opendal::options::WriteOptions::if_match") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-7" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let _ = op
    .write_with("path/to/file", vec![0; 4096])
    .if_match("\"686897696a7c876b7e\"")
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_none_match-5" class="fn">if_none_match</a>(self, s: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets If-None-Match header for this write request.

Refer to [`options::WriteOptions::if_none_match`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.if_none_match "field opendal::options::WriteOptions::if_none_match") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-8" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let _ = op
    .write_with("path/to/file", vec![0; 4096])
    .if_none_match("\"686897696a7c876b7e\"")
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_not_exists" class="fn">if_not_exists</a>(self, b: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

Sets the condition that write operation will succeed only if target does not exist.

Refer to [`options::WriteOptions::if_not_exists`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.if_not_exists "field opendal::options::WriteOptions::if_not_exists") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-9" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let _ = op
    .write_with("path/to/file", vec![0; 4096])
    .if_not_exists(true)
    .await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.user_metadata" class="fn">user_metadata</a>( self, data: impl <a href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" class="trait" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>\<Item = (<a href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" class="struct" title="struct alloc::string::String">String</a>, <a href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" class="struct" title="struct alloc::string::String">String</a>)\>, ) -\> Self

Sets user metadata for this write request.

Refer to [`options::WriteOptions::user_metadata`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.user_metadata "field opendal::options::WriteOptions::user_metadata") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-10" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let _ = op
    .write_with("path/to/file", vec![0; 4096])
    .user_metadata([
        ("language".to_string(), "rust".to_string()),
        ("author".to_string(), "OpenDAL".to_string()),
    ])
    .await?;
```

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-OperatorFuture%3CWriteOptions,+Writer,+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/struct.Writer.html" class="struct" title="struct opendal::Writer">Writer</a>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html" class="struct" title="struct opendal::options::WriteOptions">WriteOptions</a>, <a href="https://opendal.apache.org/docs/rust/opendal/struct.Writer.html" class="struct" title="struct opendal::Writer">Writer</a>, F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.append-1" class="fn">append</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

Sets append mode for this write request.

Refer to [`options::WriteOptions::append`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.append "field opendal::options::WriteOptions::append") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-11" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op.writer_with("path/to/file").append(true).await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.chunk-3" class="fn">chunk</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

Sets chunk size for buffered writes.

Refer to [`options::WriteOptions::chunk`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.chunk "field opendal::options::WriteOptions::chunk") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-12" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

// Set 8MiB chunk size - data will be sent in one API call at close
let mut w = op
    .writer_with("path/to/file")
    .chunk(8 * 1024 * 1024)
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.concurrent-3" class="fn">concurrent</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

Sets concurrent write operations for this writer.

Refer to [`options::WriteOptions::concurrent`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.concurrent "field opendal::options::WriteOptions::concurrent") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-13" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

// Enable concurrent writes with 8 parallel operations
let mut w = op.writer_with("path/to/file").concurrent(8).await?;

// First write starts immediately
w.write(vec![0; 4096]).await?;

// Second write runs concurrently with first
w.write(vec![1; 4096]).await?;

// Ensures all writes complete successfully and in order
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.cache_control-2" class="fn">cache_control</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets Cache-Control header for this write operation.

Refer to [`options::WriteOptions::cache_control`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.cache_control "field opendal::options::WriteOptions::cache_control") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-14" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

// Cache content for 7 days (604800 seconds)
let mut w = op
    .writer_with("path/to/file")
    .cache_control("max-age=604800")
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.content_type-2" class="fn">content_type</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets `Content-Type` header for this write operation.

Refer to [`options::WriteOptions::content_type`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.content_type "field opendal::options::WriteOptions::content_type") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-15" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

// Set content type for plain text file
let mut w = op
    .writer_with("path/to/file")
    .content_type("text/plain")
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.content_disposition-2" class="fn">content_disposition</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets Content-Disposition header for this write request.

Refer to [`options::WriteOptions::content_disposition`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.content_disposition "field opendal::options::WriteOptions::content_disposition") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-16" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op
    .writer_with("path/to/file")
    .content_disposition("attachment; filename=\"filename.jpg\"")
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.content_encoding-2" class="fn">content_encoding</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets Content-Encoding header for this write request.

Refer to [`options::WriteOptions::content_encoding`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.content_encoding "field opendal::options::WriteOptions::content_encoding") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-17" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op
    .writer_with("path/to/file")
    .content_encoding("gzip")
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_match-6" class="fn">if_match</a>(self, s: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets If-Match header for this write request.

Refer to [`options::WriteOptions::if_match`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.if_match "field opendal::options::WriteOptions::if_match") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#behavior" class="doc-anchor">Â§</a>Behavior

- If supported, the write operation will only succeed if the targetâ€™s ETag matches the specified value
- The value should be a valid ETag string
- Common values include:
  - A specific ETag value like `"686897696a7c876b7e"`
  - `*` - Matches any existing resource
- If not supported, the value will be ignored

This operation provides conditional write functionality based on ETag matching, helping prevent unintended overwrites in concurrent scenarios.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-18" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op
    .writer_with("path/to/file")
    .if_match("\"686897696a7c876b7e\"")
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_none_match-6" class="fn">if_none_match</a>(self, s: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets If-None-Match header for this write request.

Refer to [`options::WriteOptions::if_none_match`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.if_none_match "field opendal::options::WriteOptions::if_none_match") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-19" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op
    .writer_with("path/to/file")
    .if_none_match("\"686897696a7c876b7e\"")
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_not_exists-1" class="fn">if_not_exists</a>(self, b: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

Sets the condition that write operation will succeed only if target does not exist.

Refer to [`options::WriteOptions::if_not_exists`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.if_not_exists "field opendal::options::WriteOptions::if_not_exists") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-20" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op.writer_with("path/to/file").if_not_exists(true).await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.user_metadata-1" class="fn">user_metadata</a>( self, data: impl <a href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" class="trait" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>\<Item = (<a href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" class="struct" title="struct alloc::string::String">String</a>, <a href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" class="struct" title="struct alloc::string::String">String</a>)\>, ) -\> Self

Sets user metadata for this write request.

Refer to [`options::WriteOptions::user_metadata`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.user_metadata "field opendal::options::WriteOptions::user_metadata") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-21" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op
    .writer_with("path/to/file")
    .user_metadata([
        ("content-type".to_string(), "text/plain".to_string()),
        ("author".to_string(), "OpenDAL".to_string()),
    ])
    .await?;
w.write(vec![0; 4096]).await?;
w.close().await?;
```

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-OperatorFuture%3CDeleteOptions,+(),+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://doc.rust-lang.org/nightly/std/primitive.unit.html" class="primitive">()</a>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/options/struct.DeleteOptions.html" class="struct" title="struct opendal::options::DeleteOptions">DeleteOptions</a>, <a href="https://doc.rust-lang.org/nightly/std/primitive.unit.html" class="primitive">()</a>, F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.version-3" class="fn">version</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Change the version of this delete operation.

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-OperatorFuture%3CListOptions,+Vec%3CEntry%3E,+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" class="struct" title="struct alloc::vec::Vec">Vec</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/struct.Entry.html" class="struct" title="struct opendal::Entry">Entry</a>\>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/options/struct.ListOptions.html" class="struct" title="struct opendal::options::ListOptions">ListOptions</a>, <a href="https://doc.rust-lang.org/nightly/alloc/vec/struct.Vec.html" class="struct" title="struct alloc::vec::Vec">Vec</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/struct.Entry.html" class="struct" title="struct opendal::Entry">Entry</a>\>, F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.limit" class="fn">limit</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

The limit passed to underlying service to specify the max results that could return per-request.

Users could use this to control the memory usage of list operation.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.start_after" class="fn">start_after</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

The start_after passes to underlying service to specify the specified key to start listing from.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.recursive" class="fn">recursive</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

The recursive is used to control whether the list operation is recursive.

- If `false`, list operation will only list the entries under the given path.
- If `true`, list operation will list all entries that starts with given path.

Default to `false`.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.versions" class="fn">versions</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

Controls whether the `list` operation should return file versions.

This function allows you to specify if the `list` operation, when executed, should include information about different versions of files, if versioning is supported and enabled.

If `true`, subsequent `list` operations will include version information for each file. If `false`, version information will be omitted from the `list` results.

Default to `false`

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.deleted" class="fn">deleted</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

Controls whether the `list` operation should include deleted files (or versions).

This function allows you to specify if the `list` operation, when executed, should include entries for files or versions that have been marked as deleted. This is particularly relevant in object storage systems that support soft deletion or versioning.

If `true`, subsequent `list` operations will include deleted files or versions. If `false`, deleted files or versions will be excluded from the `list` results.

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-OperatorFuture%3CListOptions,+Lister,+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/struct.Lister.html" class="struct" title="struct opendal::Lister">Lister</a>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/options/struct.ListOptions.html" class="struct" title="struct opendal::options::ListOptions">ListOptions</a>, <a href="https://opendal.apache.org/docs/rust/opendal/struct.Lister.html" class="struct" title="struct opendal::Lister">Lister</a>, F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.limit-1" class="fn">limit</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

The limit passed to underlying service to specify the max results that could return per-request.

Users could use this to control the memory usage of list operation.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.start_after-1" class="fn">start_after</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

The start_after passes to underlying service to specify the specified key to start listing from.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.recursive-1" class="fn">recursive</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

The recursive is used to control whether the list operation is recursive.

- If `false`, list operation will only list the entries under the given path.
- If `true`, list operation will list all entries that starts with given path.

Default to `false`.

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.versions-1" class="fn">versions</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

Controls whether the `list` operation should return file versions.

This function allows you to specify if the `list` operation, when executed, should include information about different versions of files, if versioning is supported and enabled.

If `true`, subsequent `list` operations will include version information for each file. If `false`, version information will be omitted from the `list` results.

Default to `false`

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.deleted-1" class="fn">deleted</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

Controls whether the `list` operation should include deleted files (or versions).

This function allows you to specify if the `list` operation, when executed, should include entries for files or versions that have been marked as deleted. This is particularly relevant in object storage systems that support soft deletion or versioning.

If `true`, subsequent `list` operations will include deleted files or versions. If `false`, deleted files or versions will be excluded from the `list` results.

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-OperatorFuture%3C(CopyOptions,+String),+(),+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://doc.rust-lang.org/nightly/std/primitive.unit.html" class="primitive">()</a>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<(<a href="https://opendal.apache.org/docs/rust/opendal/options/struct.CopyOptions.html" class="struct" title="struct opendal::options::CopyOptions">CopyOptions</a>, <a href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" class="struct" title="struct alloc::string::String">String</a>), <a href="https://doc.rust-lang.org/nightly/std/primitive.unit.html" class="primitive">()</a>, F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.if_not_exists-2" class="fn">if_not_exists</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

Sets the condition that copy operation will succeed only if target does not exist.

Refer to [`options::CopyOptions::if_not_exists`](https://opendal.apache.org/docs/rust/opendal/options/struct.CopyOptions.html#structfield.if_not_exists "field opendal::options::CopyOptions::if_not_exists") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#example-22" class="doc-anchor">Â§</a>Example

``` rust

let _ = op
    .copy_with("source/path", "target/path")
    .if_not_exists(true)
    .await?;
```

## Trait Implementations<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#trait-implementations" class="anchor">Â§</a>

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#impl-IntoFuture-for-OperatorFuture%3CI,+O,+F%3E" class="anchor">Â§</a>

### impl\<I, O, F\> <a href="https://doc.rust-lang.org/nightly/core/future/into_future/trait.IntoFuture.html" class="trait" title="trait core::future::into_future::IntoFuture">IntoFuture</a> for <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html" class="struct" title="struct opendal::operator_futures::OperatorFuture">OperatorFuture</a>\<I, O, F\>

where F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<O\>\>,

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#associatedtype.Output" class="anchor">Â§</a>

#### type <a href="https://doc.rust-lang.org/nightly/core/future/into_future/trait.IntoFuture.html#associatedtype.Output" class="associatedtype">Output</a> = <a href="https://doc.rust-lang.org/nightly/core/result/enum.Result.html" class="enum" title="enum core::result::Result">Result</a>\<O, <a href="https://opendal.apache.org/docs/rust/opendal/struct.Error.html" class="struct" title="struct opendal::Error">Error</a>\>

The output that the future will produce on completion.

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#associatedtype.IntoFuture" class="anchor">Â§</a>

#### type <a href="https://doc.rust-lang.org/nightly/core/future/into_future/trait.IntoFuture.html#associatedtype.IntoFuture" class="associatedtype">IntoFuture</a> = F

Which kind of future are we turning this into?

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#method.into_future" class="anchor">Â§</a>

#### fn <a href="https://doc.rust-lang.org/nightly/core/future/into_future/trait.IntoFuture.html#tymethod.into_future" class="fn">into_future</a>(self) -\> Self::<a href="https://doc.rust-lang.org/nightly/core/future/into_future/trait.IntoFuture.html#associatedtype.IntoFuture" class="associatedtype" title="type core::future::into_future::IntoFuture::IntoFuture">IntoFuture</a>

Creates a future from a value. [Read more](https://doc.rust-lang.org/nightly/core/future/into_future/trait.IntoFuture.html#tymethod.into_future)

## Auto Trait Implementations<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#synthetic-implementations" class="anchor">Â§</a>

## Blanket Implementations<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/struct.OperatorFuture.html#blanket-implementations" class="anchor">Â§</a>
