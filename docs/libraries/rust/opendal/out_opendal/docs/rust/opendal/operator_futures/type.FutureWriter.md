# Type Alias FutureWriter Copy item path

<a href="https://opendal.apache.org/docs/rust/src/opendal/types/operator/operator_futures.rs.html#919" class="src">Source</a>

``` rust
pub type FutureWriter<F> = OperatorFuture<WriteOptions, Writer, F>;
```

Expand description

Future that generated by [`Operator::writer_with`](https://opendal.apache.org/docs/rust/opendal/struct.Operator.html#method.writer_with "method opendal::Operator::writer_with").

Users can add more options by public functions provided by this struct.

## Aliased Type<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#aliased-type" class="anchor">Â§</a>

``` rust
pub struct FutureWriter<F> { /* private fields */ }
```

## Implementations<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#implementations" class="anchor">Â§</a>

<a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#impl-OperatorFuture%3CWriteOptions,+Writer,+F%3E" class="anchor">Â§</a>

### impl\<F: <a href="https://doc.rust-lang.org/nightly/core/future/future/trait.Future.html" class="trait" title="trait core::future::future::Future">Future</a>\<Output = <a href="https://opendal.apache.org/docs/rust/opendal/type.Result.html" class="type" title="type opendal::Result">Result</a>\<<a href="https://opendal.apache.org/docs/rust/opendal/struct.Writer.html" class="struct" title="struct opendal::Writer">Writer</a>\>\>\> <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html" class="type" title="type opendal::operator_futures::FutureWriter">FutureWriter</a>\<F\>

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#method.append" class="fn">append</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

Sets append mode for this write request.

Refer to [`options::WriteOptions::append`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.append "field opendal::options::WriteOptions::append") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#example" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op.writer_with("path/to/file").append(true).await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#method.chunk" class="fn">chunk</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

Sets chunk size for buffered writes.

Refer to [`options::WriteOptions::chunk`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.chunk "field opendal::options::WriteOptions::chunk") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#example-1" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

// Set 8MiB chunk size - data will be sent in one API call at close
let mut w = op
    .writer_with("path/to/file")
    .chunk(8 * 1024 * 1024)
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#method.concurrent" class="fn">concurrent</a>(self, v: <a href="https://doc.rust-lang.org/nightly/std/primitive.usize.html" class="primitive">usize</a>) -\> Self

Sets concurrent write operations for this writer.

Refer to [`options::WriteOptions::concurrent`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.concurrent "field opendal::options::WriteOptions::concurrent") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#example-2" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

// Enable concurrent writes with 8 parallel operations
let mut w = op.writer_with("path/to/file").concurrent(8).await?;

// First write starts immediately
w.write(vec![0; 4096]).await?;

// Second write runs concurrently with first
w.write(vec![1; 4096]).await?;

// Ensures all writes complete successfully and in order
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#method.cache_control" class="fn">cache_control</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets Cache-Control header for this write operation.

Refer to [`options::WriteOptions::cache_control`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.cache_control "field opendal::options::WriteOptions::cache_control") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#example-3" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

// Cache content for 7 days (604800 seconds)
let mut w = op
    .writer_with("path/to/file")
    .cache_control("max-age=604800")
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#method.content_type" class="fn">content_type</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets `Content-Type` header for this write operation.

Refer to [`options::WriteOptions::content_type`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.content_type "field opendal::options::WriteOptions::content_type") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#example-4" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

// Set content type for plain text file
let mut w = op
    .writer_with("path/to/file")
    .content_type("text/plain")
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#method.content_disposition" class="fn">content_disposition</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets Content-Disposition header for this write request.

Refer to [`options::WriteOptions::content_disposition`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.content_disposition "field opendal::options::WriteOptions::content_disposition") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#example-5" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op
    .writer_with("path/to/file")
    .content_disposition("attachment; filename=\"filename.jpg\"")
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#method.content_encoding" class="fn">content_encoding</a>(self, v: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets Content-Encoding header for this write request.

Refer to [`options::WriteOptions::content_encoding`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.content_encoding "field opendal::options::WriteOptions::content_encoding") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#example-6" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op
    .writer_with("path/to/file")
    .content_encoding("gzip")
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#method.if_match" class="fn">if_match</a>(self, s: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets If-Match header for this write request.

Refer to [`options::WriteOptions::if_match`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.if_match "field opendal::options::WriteOptions::if_match") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#behavior" class="doc-anchor">Â§</a>Behavior

- If supported, the write operation will only succeed if the targetâ€™s ETag matches the specified value
- The value should be a valid ETag string
- Common values include:
  - A specific ETag value like `"686897696a7c876b7e"`
  - `*` - Matches any existing resource
- If not supported, the value will be ignored

This operation provides conditional write functionality based on ETag matching, helping prevent unintended overwrites in concurrent scenarios.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#example-7" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op
    .writer_with("path/to/file")
    .if_match("\"686897696a7c876b7e\"")
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#method.if_none_match" class="fn">if_none_match</a>(self, s: &<a href="https://doc.rust-lang.org/nightly/std/primitive.str.html" class="primitive">str</a>) -\> Self

Sets If-None-Match header for this write request.

Refer to [`options::WriteOptions::if_none_match`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.if_none_match "field opendal::options::WriteOptions::if_none_match") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#example-8" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op
    .writer_with("path/to/file")
    .if_none_match("\"686897696a7c876b7e\"")
    .await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#method.if_not_exists" class="fn">if_not_exists</a>(self, b: <a href="https://doc.rust-lang.org/nightly/std/primitive.bool.html" class="primitive">bool</a>) -\> Self

Sets the condition that write operation will succeed only if target does not exist.

Refer to [`options::WriteOptions::if_not_exists`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.if_not_exists "field opendal::options::WriteOptions::if_not_exists") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#example-9" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op.writer_with("path/to/file").if_not_exists(true).await?;
w.write(vec![0; 4096]).await?;
w.write(vec![1; 4096]).await?;
w.close().await?;
```

#### pub fn <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#method.user_metadata" class="fn">user_metadata</a>( self, data: impl <a href="https://doc.rust-lang.org/nightly/core/iter/traits/collect/trait.IntoIterator.html" class="trait" title="trait core::iter::traits::collect::IntoIterator">IntoIterator</a>\<Item = (<a href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" class="struct" title="struct alloc::string::String">String</a>, <a href="https://doc.rust-lang.org/nightly/alloc/string/struct.String.html" class="struct" title="struct alloc::string::String">String</a>)\>, ) -\> Self

Sets user metadata for this write request.

Refer to [`options::WriteOptions::user_metadata`](https://opendal.apache.org/docs/rust/opendal/options/struct.WriteOptions.html#structfield.user_metadata "field opendal::options::WriteOptions::user_metadata") for more details.

###### <a href="https://opendal.apache.org/docs/rust/opendal/operator_futures/type.FutureWriter.html#example-10" class="doc-anchor">Â§</a>Example

``` rust
use bytes::Bytes;

let mut w = op
    .writer_with("path/to/file")
    .user_metadata([
        ("content-type".to_string(), "text/plain".to_string()),
        ("author".to_string(), "OpenDAL".to_string()),
    ])
    .await?;
w.write(vec![0; 4096]).await?;
w.close().await?;
```
